THREE.FirstPersonVRControls=function(t){var e={};function i(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=t,i.c=e,i.d=function(t,e,r){i.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},i.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=1)}([function(t,e){t.exports=THREE},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,i,r){return i&&t(e.prototype,i),r&&t(e,r),e}}(),o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(i(0));var a=new o.Vector3(0,0,1),n=new o.Vector3(0,1,0),s=function(){function t(e,i,r){var a=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.enabled=!0,this.verticalMovement=!1,this.strafing=!1,this.boost=!0,this.movementSpeed=1,this.snapAngle=22.5*Math.PI/180,this.boostFactor=2,this._angleQuaternion=new o.Quaternion,this._moveForward=!1,this._moveBackward=!1,this._moveLeft=!1,this._moveRight=!1,this._moveUp=!1,this._moveDown=!1,this._boosting=!1,this._onKeyDown=function(t){if(!t.repeat)switch(t.key.toLowerCase()){case"arrowup":case"w":a._moveForward=!0;break;case"arrowleft":case"a":a._moveLeft=!0;break;case"arrowdown":case"s":a._moveBackward=!0;break;case"arrowright":case"d":a._moveRight=!0;break;case"r":a._moveUp=!0;break;case"f":a._moveDown=!0;break;case"shift":a._boosting=!0;break;case"q":a.snap("left");break;case"e":a.snap("right")}},this._onKeyUp=function(t){switch(t.key.toLowerCase()){case"arrowup":case"w":a._moveForward=!1;break;case"arrowleft":case"a":a._moveLeft=!1;break;case"arrowdown":case"s":a._moveBackward=!1;break;case"arrowright":case"d":a._moveRight=!1;break;case"r":a._moveUp=!1;break;case"f":a._moveDown=!1;break;case"shift":a._boosting=!1}},this._angle=0,this._tempMatrix=new o.Matrix4,this._direction=new o.Vector3,this._tempObject=new o.Object3D,this._camera=e,r?this.rig=r:(this.rig=new o.Object3D,this.rig.add(e),i.add(this.rig)),window.addEventListener("keydown",this._onKeyDown,!1),window.addEventListener("keyup",this._onKeyUp,!1)}return r(t,[{key:"snap",value:function(t){var e=this.snapAngle*("left"===t?1:-1);this._angle+=e,this._angleQuaternion.setFromAxisAngle(n,this._angle),this._tempMatrix.makeTranslation(this._camera.position.x,this._camera.position.y,this._camera.position.z),this.rig.matrix.multiply(this._tempMatrix),this._tempMatrix.makeRotationY(-e),this.rig.matrix.multiply(this._tempMatrix),this._tempMatrix.makeRotationY(2*e),this.rig.matrix.multiply(this._tempMatrix),this._tempMatrix.makeTranslation(-this._camera.position.x,-this._camera.position.y,-this._camera.position.z),this.rig.matrix.multiply(this._tempMatrix),this.rig.matrix.decompose(this.rig.position,this.rig.quaternion,this.rig.scale)}},{key:"_collapseYComponent",value:function(t){this._direction.set(0,0,1),this._direction.applyQuaternion(t),this._direction.y=0,this._direction.normalize(),t.setFromUnitVectors(a,this._direction)}},{key:"update",value:function(t){if(this.enabled){this._tempObject.position.set(0,0,0),this._tempObject.quaternion.copy(this._camera.quaternion),this._tempObject.quaternion.multiplyQuaternions(this._angleQuaternion,this._camera.quaternion),this._collapseYComponent(this._tempObject.quaternion);var e=t*this.movementSpeed;this.boost&&this._boosting&&(e*=this.boostFactor),this._moveForward&&this._tempObject.translateZ(-e),this._moveBackward&&this._tempObject.translateZ(e),this.strafing&&this._moveLeft&&this._tempObject.translateX(-e),this.strafing&&this._moveRight&&this._tempObject.translateX(e),this.verticalMovement&&this._moveUp&&this._tempObject.translateY(e),this.verticalMovement&&this._moveDown&&this._tempObject.translateY(-e),this.rig.position.add(this._tempObject.position)}}},{key:"dispose",value:function(){window.removeEventListener("keydown",this._onKeyDown,!1),window.removeEventListener("keyup",this._onKeyUp,!1)}}]),t}();e.default=s}]).default;
//# sourceMappingURL=FirstPersonVRControls.browser.min.js.map